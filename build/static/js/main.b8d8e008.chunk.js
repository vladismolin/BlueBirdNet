(this["webpackJsonptest-lesson-3a"]=this["webpackJsonptest-lesson-3a"]||[]).push([[0],{108:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(46),r=n(4),i={messageData:[{id:1,message:"Welcome"},{id:2,message:"saluut"},{id:3,message:"what"},{id:4,message:"aloha dance"}],newMessText:"",dialogsData:[{id:1,name:"Vlad"},{id:2,name:"Roman"},{id:3,name:"Mariyka"},{id:4,name:"EugeneM"}]},o=function(e){return{type:"ADD-MESSAGES",newText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGES":return e.newMessText=t.newText,Object(r.a)(Object(r.a)({},e),{},{newMessText:"",messageData:[].concat(Object(a.a)(e.messageData),[{id:5,message:e.newMessText}])});case"UPDATE-NEW-MESS-TEXT":return Object(r.a)(Object(r.a)({},e),{},{newMessText:t.newText});default:return e}}},133:function(e,t,n){e.exports={friends_title:"Friends_friends_title__GW6U-"}},137:function(e,t,n){e.exports=n.p+"static/media/loader.426caf0c.svg"},138:function(e,t,n){e.exports={preloader:"Preloader_preloader__2dvkO"}},139:function(e,t,n){e.exports={item:"Post_item__ueSlo"}},140:function(e,t,n){e.exports={exit:"login_exit__1q_uo"}},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(89),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"34f4521b-34bd-43e1-9cab-da4e95910166"}}),i={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},setFollow:function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))},setUnfollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))}},o={login:function(){return r.get("auth/me").then((function(e){return e.data}))},LoginTo:function(e,t,n){return r.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},Exit:function(){return r.delete("auth/login").then((function(e){return e.data}))}},s={profilesData:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})}}},166:function(e,t,n){e.exports=n(292)},171:function(e,t,n){},172:function(e,t,n){},20:function(e,t,n){e.exports={description_block:"ProfileInfo_description_block__187mR",name:"ProfileInfo_name__1VvQB",photo:"ProfileInfo_photo__3YYCg",inblock:"ProfileInfo_inblock__1vAxU",status:"ProfileInfo_status__2G3BZ"}},23:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",active:"Navbar_active__3mbhk"}},292:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(65),o=n.n(i),s=(n(171),n(35)),c=n(36),u=n(39),l=n(38),m=(n(172),n(17)),d=n(133),p=n.n(d),f=n(69),E=n.n(f),h=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:E.a.person},r.a.createElement("div",{className:E.a.photo},r.a.createElement("img",{src:"https://www.pinclipart.com/picdir/middle/165-1653686_female-user-icon-png-download-user-colorful-icon.png",alt:""})),r.a.createElement("div",{className:E.a.person_name},e.name)))},b=function(e){var t=e.friend.map((function(e){return r.a.createElement(h,{name:e.name})}));return r.a.createElement("div",null,r.a.createElement("div",{className:p.a.friends_title},"My friends"),r.a.createElement("span",null,t))},g=n(23),v=n.n(g),O=function(e){var t=e.store.getState().sidebar;return r.a.createElement("nav",{className:v.a.nav},r.a.createElement("div",{className:v.a.item},r.a.createElement(m.b,{to:"/profile",activeClassName:v.a.active},"Profile")),r.a.createElement("div",{className:v.a.item},r.a.createElement(m.b,{to:"/dialogs",activeClassName:v.a.active},"Messages")),r.a.createElement("div",{className:v.a.item},r.a.createElement("a",null,"News")),r.a.createElement("div",{className:v.a.item},r.a.createElement("a",null,"Music")),r.a.createElement("div",{className:v.a.item},r.a.createElement("a",null,"Settings")),r.a.createElement("div",{className:v.a.item},r.a.createElement(m.b,{to:"/users",activeClassName:v.a.active},"Users")),r.a.createElement("div",null,r.a.createElement(b,{friend:t.sidebarData})))},S=n(10),w=n(9),T=n.n(w),j=n(14),x=n(4),I=n(30),P=n(15),k={id:null,login:null,email:null,isAuth:!1},N=function(e,t,n,a){return function(e){return P.a.login().then((function(t){0===t.resultCode&&e(function(e,t,n,a){return{type:"SET_SER_DATA",data:{id:e,login:t,email:n,isAuth:a}}}(t.data.id,t.data.login,t.data.email))}))}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SER_DATA":return Object(x.a)(Object(x.a)(Object(x.a)({},e),t.data),{},{isAuth:!0});case"EXIT_USER":return Object(x.a)(Object(x.a)({},e),{},{isAuth:!1});default:return e}},A=n(108),D=n(46),_={postsData:[{id:1,message:"Welcome back,my friend",like:66},{id:2,message:"Salut",like:20}],newPostText:"",profile:null,statusText:""},U=function(e){return{type:"UPDATE_STATUS_TEXT",newText:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return e.newPostText=t.newText,Object(x.a)(Object(x.a)({},e),{},{postsData:[].concat(Object(D.a)(e.postsData),[{id:3,message:e.newPostText,like:0}])});case"SET_USER_PROFILE":return Object(x.a)(Object(x.a)({},e),{},{profile:t.profile});case"UPDATE_STATUS_TEXT":return Object(x.a)(Object(x.a)({},e),{},{statusText:t.newText});default:return e}},G={sidebarData:[{id:1,name:"Vlad"},{id:2,name:"Eugene"},{id:3,name:"Mariyka"},{id:4,name:"Roman"}]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return e},R=n(98),Z=n(134),C=n(132),K={initialized:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZE":return Object(x.a)(Object(x.a)({},e),{},{initialized:!0});default:return e}},Q=n(8),Y=Q.createStore,W=Q.combineReducers,J=Q.applyMiddleware,X=Q.compose,q=Y(W({profilePage:F,messagesPage:A.b,sidebar:M,usersPage:R.a,auth:y,form:C.a,app:L}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X)(J(Z.a)));window.store=q;var z=q,V=n(20),B=n.n(V),H=n(40),$=n(90),ee=function(e){var t=Object(a.useState)(!1),n=Object($.a)(t,2),i=n[0],o=n[1],s=Object(a.useState)(e.status),c=Object($.a)(s,2),u=c[0],l=c[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,r.a.createElement("div",{className:B.a.inblock},"Status: \xa0"),i?r.a.createElement("div",{className:B.a.inblock},r.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(u)},autoFocus:!0,value:u})):r.a.createElement("div",{className:B.a.inblock},r.a.createElement("span",{className:B.a.status,title:"Click to change",onClick:function(){o(!0)}},e.status?e.status:"No Status")))},te=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",{className:B.a.description_block},r.a.createElement("img",{className:B.a.photo,src:null!=e.profile.photos.small?e.profile.photos.small:"data:image/png;base64,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"}),r.a.createElement("span",{className:B.a.name},"Vladislav_Smolin"===e.profile.fullName?"Maria Kolos":e.profile.fullName),r.a.createElement("div",null,e.profile.lookingForAJobDescription),e.id===e.userIdInURL?r.a.createElement(ee,{status:e.status,updateStatus:e.updateStatus}):r.a.createElement("div",{title:"Only read",className:B.a.status+" "+B.a.statusText},"Status : ",e.status?e.status:"No status"))):r.a.createElement(H.a,null)},ne=n(70),ae=n.n(ne),re=n(139),ie=n.n(re),oe=function(e){return r.a.createElement("div",{className:ie.a.item},r.a.createElement("img",{src:"https://www.pinclipart.com/picdir/middle/165-1653686_female-user-icon-png-download-user-colorful-icon.png"}),r.a.createElement("span",null,e.message),r.a.createElement("div",null,e.like," Likes"))},se=n(131),ce=n(130),ue=n(41),le=n(42),me=Object(ue.a)(30),de=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(ce.a,{validate:[ue.b,me],name:"newPost",placeholder:"Add new post",component:le.b,type:"text"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Send")))},pe=Object(se.a)({form:"newpost"})(de),fe=r.a.memo((function(e){console.log("RENDER");var t=e.postsData.map((function(e){return r.a.createElement(oe,{message:e.message,like:e.like})}));return r.a.createElement("div",{className:ae.a.discription_block},r.a.createElement("h3",null,"My posts"),r.a.createElement("div",{className:ae.a.discription_block},r.a.createElement(pe,{onSubmit:function(t){e.onAddPosts(t.newPost)}})),r.a.createElement("div",{className:ae.a.posts},t))})),Ee=n(11),he=Object(Ee.b)((function(e){return{newPostText:e.profilePage.newPostText,postsData:e.profilePage.postsData}}),(function(e){return{onAddPosts:function(t){var n={type:"ADD-POST",newText:t};e(n)}}}))(fe),be=function(e){return r.a.createElement("div",null,r.a.createElement(te,Object.assign({profile:e.profile,updateStatus:e.updateStatus,status:e.status,UpdateStatusText:e.UpdateStatusText,userIdInURL:e.userIdInURL},e)),r.a.createElement(he,null))},ge=n(8),ve=n(97),Oe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).userId=e.props.match.params.userId,e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.userId||(this.userId=this.props.id,this.userId||(this.userId=12341)),this.props.userProfileThunk(this.userId),this.props.getStatus(this.userId)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(be,Object.assign({userIdInURL:this.userId,updateStatus:this.props.updateStatus,status:this.props.status},this.props,{profile:this.props.profile})))}}]),n}(r.a.Component),Se=Object(ge.compose)(Object(Ee.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.statusText,id:e.auth.id,isAuth:e.auth.isAuth}}),{userProfileThunk:function(e){return function(){var t=Object(j.a)(T.a.mark((function t(n){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.b.profilesData(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(j.a)(T.a.mark((function t(n){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.b.getStatus(e);case 2:a=t.sent,n(U(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(j.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(U(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),S.f,ve.a)(Oe),we=(n(89),n(96)),Te=n.n(we),je=function(e){return r.a.createElement("header",{className:Te.a.header},r.a.createElement("img",{src:"https://logos-world.net/wp-content/uploads/2020/04/Twitter-Logo.png"}),r.a.createElement("div",{className:Te.a.loginBlock},e.isAuth?r.a.createElement(m.b,{to:"/login"},"Vlad_Smolin"===e.login?"Maria Kolos":e.login):r.a.createElement(m.b,{to:"/login"},"Login")))},xe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(je,this.props)}}]),n}(r.a.Component),Ie=Object(ge.compose)(Object(Ee.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{}))(xe),Pe=n(55),ke=n.n(Pe),Ne=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(ce.a,{type:"text",validate:[ue.b],name:"login",component:le.a,placeholder:"Login"})),r.a.createElement("div",null,r.a.createElement(ce.a,{type:"password",validate:[ue.b],name:"password",component:le.a,placeholder:"Password"})),r.a.createElement("div",null,r.a.createElement(ce.a,{type:"checkbox",name:"rememberMe",component:le.a}),"Remember me"),e.error&&r.a.createElement("div",{className:ke.a.form_summary_error},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Login"))))},ye=n(140),Ae=n.n(ye),De=Object(se.a)({form:"login"})(Ne),_e=function(e){return r.a.createElement("div",null,e.isAuth?r.a.createElement("h1",{className:Ae.a.exit,onClick:function(){e.ExitThunk()}},"Log Out"):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(De,{onSubmit:function(t){console.log(t),e.loginToThunk(t.login,t.password,t.rememberMe)}})))},Ue=Object(ge.compose)(Object(Ee.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginToThunk:function(e,t,n){return function(){var a=Object(j.a)(T.a.mark((function a(r){var i,o;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,P.a.LoginTo(e,t,n);case 2:0===(i=a.sent).resultCode?r(N()):(o=i.messages.length>0?i.messages[0]:"Some ERROR",r(Object(I.a)("login",{_error:o})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ExitThunk:function(){return function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.Exit();case 2:0===e.sent.resultCode&&(t({type:"EXIT_USER"}),t(N()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(_e),Fe=r.a.lazy((function(){return n.e(3).then(n.bind(null,298))})),Ge=r.a.lazy((function(){return n.e(4).then(n.bind(null,299))})),Me=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedApp()}},{key:"render",value:function(){return console.log(this.props),this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Ie,null),r.a.createElement(O,{store:z}),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(S.b,{path:"/dialogs",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,r.a.createElement(H.a,null))},r.a.createElement(Fe,null))}}),r.a.createElement(S.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Se,null)}}),r.a.createElement(S.b,{path:"/users",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,r.a.createElement(H.a,null))},r.a.createElement(Ge,null))}}),r.a.createElement(S.b,{path:"/login",render:function(){return r.a.createElement(Ue,null)}}))):r.a.createElement(H.a,null)}}]),n}(r.a.Component),Re=Object(ge.compose)(S.f,Object(Ee.b)((function(e){return{initialized:e.app.initialized}}),{initializedApp:function(){return function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(N());case 2:e.sent,t({type:"SET_INITIALIZE"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m.a,null,r.a.createElement(Ee.a,{store:z},r.a.createElement(Re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,n){"use strict";var a=n(137),r=n.n(a),i=n(0),o=n.n(i),s=n(138),c=n.n(s);t.a=function(e){return o.a.createElement("div",{className:c.a.preloader},o.a.createElement("img",{src:r.a}))}},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},42:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var a=n(72),r=n(0),i=n.n(r),o=n(55),s=n.n(o),c=function(e){e.input;var t=e.meta,n=(e.child,Object(a.a)(e,["input","meta","child"])),r=t.touched&&t.error;return i.a.createElement("div",{className:s.a.form_control+" "+(r?s.a.error:"")},n.children,i.a.createElement("div",null,r&&i.a.createElement("span",null,t.error)))},u=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return i.a.createElement(c,e,i.a.createElement("textarea",Object.assign({},t,n)))},l=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return i.a.createElement(c,e,i.a.createElement("input",Object.assign({},t,n)))}},55:function(e,t,n){e.exports={form_control:"FormControls_form_control__JjVBS",error:"FormControls_error__24y5C",form_summary_error:"FormControls_form_summary_error__2JyYQ"}},69:function(e,t,n){e.exports={photo:"FriendsItem_photo__1ijO1",person:"FriendsItem_person__2Ew7k",person_name:"FriendsItem_person_name__3ZsS7"}},70:function(e,t,n){e.exports={discription_block:"MyPost_discription_block__2IzUc"}},96:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),i=n(11),o=n(10),s=function(e){return{isAuth:e.auth.isAuth}},c=function(e){return Object(i.b)(s)((function(t){return!1===t.isAuth?r.a.createElement(o.a,{to:"/login"}):r.a.createElement(e,t)}))}},98:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return v}));var a=n(9),r=n.n(a),i=n(14),o=n(46),s=n(4),c=n(15),u=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(s.a)(Object(s.a)({},e),a):e}))},l={usersData:[],pageSize:5,totalUsersCount:50,currentPage:1,isFetching:!1,followingInProgress:[]},m=function(e){return{type:"FOLLOW",UserId:e}},d=function(e){return{type:"SET_CURRENTPAGE",currentPage:e}},p=function(e){return{type:"UNFOLLOW",UserId:e}},f=function(e){return{type:"IS_FETCHING",isFetching:e}},E=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",followingInProgress:e,id:t}},h=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(a){var i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(f(!0)),a(d(e)),n.next=4,c.c.getUsers(e,t);case 4:i=n.sent,a(f(!1)),a({type:"SET_USERS_SIZE",UsersSize:i.totalCount}),a({type:"SET_USERS",usersData:i.items});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},b=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(i(n)),t(E(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),g=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=c.c.setFollow.bind(c.c),b(n,e,a,m);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=c.c.setUnfollow.bind(c.c),b(n,e,a,p);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(s.a)(Object(s.a)({},e),{},{usersData:u(e.usersData,t.UserId,"id",{followed:!0})});case"UNFOLLOW":return Object(s.a)(Object(s.a)({},e),{},{usersData:u(e.usersData,t.UserId,"id",{followed:!1})});case"SET_USERS":return Object(s.a)(Object(s.a)({},e),{},{usersData:t.usersData});case"SET_CURRENTPAGE":return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case"SET_USERS_SIZE":return Object(s.a)(Object(s.a)({},e),{},{totalUsersCount:t.UsersSize});case"IS_FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(s.a)(Object(s.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(o.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!=t.id}))});default:return e}}}},[[166,1,2]]]);
//# sourceMappingURL=main.b8d8e008.chunk.js.map